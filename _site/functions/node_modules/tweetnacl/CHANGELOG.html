<h1 id="tweetnacljs-changelog">TweetNaCl.js Changelog</h1>

<h2 id="v0145">v0.14.5</h2>

<ul>
  <li>Fixed incomplete return types in TypeScript typings.</li>
  <li>Replaced COPYING.txt with LICENSE file, which now has public domain dedication
text from The Unlicense. License fields in package.json and bower.json have
been set to “Unlicense”. The project was and will be in the public domain –
this change just makes it easier for automated tools to know about this fact by
using the widely recognized and SPDX-compatible template for public domain
dedication.</li>
</ul>

<h2 id="v0144">v0.14.4</h2>

<ul>
  <li>Added TypeScript type definitions (contributed by @AndSDev).</li>
  <li>Improved benchmarking code.</li>
</ul>

<h2 id="v0143">v0.14.3</h2>

<p>Fixed a bug in the fast version of Poly1305 and brought it back.</p>

<p>Thanks to @floodyberry for promptly responding and fixing the original C code:</p>

<blockquote>
  <p>“The issue was not properly detecting if st-&gt;h was &gt;= 2^130 - 5, coupled with
[testing mistake] not catching the failure. The chance of the bug affecting
anything in the real world is essentially zero luckily, but it’s good to have
it fixed.”</p>
</blockquote>

<p>https://github.com/floodyberry/poly1305-donna/issues/2#issuecomment-202698577</p>

<h2 id="v0142">v0.14.2</h2>

<p>Switched Poly1305 fast version back to original (slow) version due to a bug.</p>

<h2 id="v0141">v0.14.1</h2>

<p>No code changes, just tweaked packaging and added COPYING.txt.</p>

<h2 id="v0140">v0.14.0</h2>

<ul>
  <li>
    <p><strong>Breaking change!</strong> All functions from <code class="highlighter-rouge">nacl.util</code> have been removed. These
functions are no longer available:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>nacl.util.decodeUTF8
nacl.util.encodeUTF8
nacl.util.decodeBase64
nacl.util.encodeBase64
</code></pre>
    </div>

    <p>If want to continue using them, you can include
<a href="https://github.com/dchest/tweetnacl-util-js">https://github.com/dchest/tweetnacl-util-js</a> package:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>&lt;script src="nacl.min.js"&gt;&lt;/script&gt;
&lt;script src="nacl-util.min.js"&gt;&lt;/script&gt;
</code></pre>
    </div>

    <p>or</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>var nacl = require('tweetnacl');
nacl.util = require('tweetnacl-util');
</code></pre>
    </div>

    <p>However it is recommended to use better packages that have wider
compatibility and better performance. Functions from <code class="highlighter-rouge">nacl.util</code> were never
intended to be robust solution for string conversion and were included for
convenience: cryptography library is not the right place for them.</p>

    <p>Currently calling these functions will throw error pointing to
<code class="highlighter-rouge">tweetnacl-util-js</code> (in the next version this error message will be removed).</p>
  </li>
  <li>
    <p>Improved detection of available random number generators, making it possible
to use <code class="highlighter-rouge">nacl.randomBytes</code> and related functions in Web Workers without
changes.</p>
  </li>
  <li>
    <p>Changes to testing (see README).</p>
  </li>
</ul>

<h2 id="v0133">v0.13.3</h2>

<p>No code changes.</p>

<ul>
  <li>
    <p>Reverted license field in package.json to “Public domain”.</p>
  </li>
  <li>
    <p>Fixed typo in README.</p>
  </li>
</ul>

<h2 id="v0132">v0.13.2</h2>

<ul>
  <li>
    <p>Fixed undefined variable bug in fast version of Poly1305. No worries, this
bug was <em>never</em> triggered.</p>
  </li>
  <li>
    <p>Specified CC0 public domain dedication.</p>
  </li>
  <li>
    <p>Updated development dependencies.</p>
  </li>
</ul>

<h2 id="v0131">v0.13.1</h2>

<ul>
  <li>Exclude <code class="highlighter-rouge">crypto</code> and <code class="highlighter-rouge">buffer</code> modules from browserify builds.</li>
</ul>

<h2 id="v0130">v0.13.0</h2>

<ul>
  <li>
    <p>Made <code class="highlighter-rouge">nacl-fast</code> the default version in NPM package. Now
<code class="highlighter-rouge">require("tweetnacl")</code> will use fast version; to get the original version,
use <code class="highlighter-rouge">require("tweetnacl/nacl.js")</code>.</p>
  </li>
  <li>
    <p>Cleanup temporary array after generating random bytes.</p>
  </li>
</ul>

<h2 id="v0122">v0.12.2</h2>

<ul>
  <li>Improved performance of curve operations, making <code class="highlighter-rouge">nacl.scalarMult</code>, <code class="highlighter-rouge">nacl.box</code>,
<code class="highlighter-rouge">nacl.sign</code> and related functions up to 3x faster in <code class="highlighter-rouge">nacl-fast</code> version.</li>
</ul>

<h2 id="v0121">v0.12.1</h2>

<ul>
  <li>Significantly improved performance of Salsa20 (~1.5x faster) and
Poly1305 (~3.5x faster) in <code class="highlighter-rouge">nacl-fast</code> version.</li>
</ul>

<h2 id="v0120">v0.12.0</h2>

<ul>
  <li>Instead of using the given secret key directly, TweetNaCl.js now copies it to
a new array in <code class="highlighter-rouge">nacl.box.keyPair.fromSecretKey</code> and
<code class="highlighter-rouge">nacl.sign.keyPair.fromSecretKey</code>.</li>
</ul>

<h2 id="v0112">v0.11.2</h2>

<ul>
  <li>Added new constant: <code class="highlighter-rouge">nacl.sign.seedLength</code>.</li>
</ul>

<h2 id="v0111">v0.11.1</h2>

<ul>
  <li>Even faster hash for both short and long inputs (in <code class="highlighter-rouge">nacl-fast</code>).</li>
</ul>

<h2 id="v0110">v0.11.0</h2>

<ul>
  <li>
    <p>Implement <code class="highlighter-rouge">nacl.sign.keyPair.fromSeed</code> to enable creation of sign key pairs
deterministically from a 32-byte seed. (It behaves like
<a href="http://doc.libsodium.org/public-key_cryptography/public-key_signatures.html">libsodium’s</a>
<code class="highlighter-rouge">crypto_sign_seed_keypair</code>: the seed becomes a secret part of the secret key.)</p>
  </li>
  <li>
    <p>Fast version now has an improved hash implementation that is 2x-5x faster.</p>
  </li>
  <li>
    <p>Fixed benchmarks, which may have produced incorrect measurements.</p>
  </li>
</ul>

<h2 id="v0101">v0.10.1</h2>

<ul>
  <li>Exported undocumented <code class="highlighter-rouge">nacl.lowlevel.crypto_core_hsalsa20</code>.</li>
</ul>

<h2 id="v0100">v0.10.0</h2>

<ul>
  <li><strong>Signature API breaking change!</strong> <code class="highlighter-rouge">nacl.sign</code> and <code class="highlighter-rouge">nacl.sign.open</code> now deal
 with signed messages, and new <code class="highlighter-rouge">nacl.sign.detached</code> and
 <code class="highlighter-rouge">nacl.sign.detached.verify</code> are available.</li>
</ul>

<p>Previously, <code class="highlighter-rouge">nacl.sign</code> returned a signature, and <code class="highlighter-rouge">nacl.sign.open</code> accepted a
 message and “detached” signature. This was unlike NaCl’s API, which dealt with
 signed messages (concatenation of signature and message).</p>

<p>The new API is:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  nacl.sign(message, secretKey) -&gt; signedMessage
  nacl.sign.open(signedMessage, publicKey) -&gt; message | null
</code></pre>
</div>

<p>Since detached signatures are common, two new API functions were introduced:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  nacl.sign.detached(message, secretKey) -&gt; signature
  nacl.sign.detached.verify(message, signature, publicKey) -&gt; true | false
</code></pre>
</div>

<p>(Note that it’s <code class="highlighter-rouge">verify</code>, not <code class="highlighter-rouge">open</code>, and it returns a boolean value, unlike
 <code class="highlighter-rouge">open</code>, which returns an “unsigned” message.)</p>

<ul>
  <li>NPM package now comes without <code class="highlighter-rouge">test</code> directory to keep it small.</li>
</ul>

<h2 id="v092">v0.9.2</h2>

<ul>
  <li>Improved documentation.</li>
  <li>Fast version: increased theoretical message size limit from 2^32-1 to 2^52
bytes in Poly1305 (and thus, secretbox and box). However this has no impact
in practice since JavaScript arrays or ArrayBuffers are limited to 32-bit
indexes, and most implementations won’t allocate more than a gigabyte or so.
(Obviously, there are no tests for the correctness of implementation.) Also,
it’s not recommended to use messages that large without splitting them into
smaller packets anyway.</li>
</ul>

<h2 id="v091">v0.9.1</h2>

<ul>
  <li>Initial release</li>
</ul>
